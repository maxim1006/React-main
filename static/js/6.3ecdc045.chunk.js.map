{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/hooks/useHooks.js","components/hooks/HooksList.js","components/hooks/HooksListPosts.js","pages/HooksPage.js"],"names":["_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","length","err","_iterableToArrayLimit","TypeError","_nonIterableRest","__webpack_require__","d","__webpack_exports__","useHooks","resource","cancelHooksRequest","customAxios","CancelToken","source","_useState","useState","_useState2","Object","slicedToArray","resources","setResources","getHooks","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","_ref2","_resources","wrap","_context","prev","get","concat","cancelToken","token","sent","data","t0","console","log","stop","this","_x","apply","arguments","useEffect","cancel","HooksList","react_default","createElement","className","map","index","title","key","HooksListPosts","setResource","type","onClick"],"mappings":"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","file":"static/js/6.3ecdc045.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import customAxios from \"../../common/api/axios\";\nimport {useState, useEffect} from \"react\";\n\nexport default (resource) => {\n    const cancelHooksRequest = customAxios.CancelToken.source();\n    const [resources, setResources] = useState([]);\n\n    const getHooks = async (resource) => {\n        try {\n            const {data: resources} = await customAxios.get(`/hooks/${resource}`, {\n                cancelToken: cancelHooksRequest.token\n            });\n\n            setResources(resources);\n        } catch (e) {\n            console.log(\"HooksList get('/hooks'... error \", e);\n        }\n    };\n\n    // по умолчанию ведет себя как componentDidMount\n    // но если поменять значение в массиве (второй аргумент в useEffect)\n    // то вызовется () => {} (первый аргумент в useEffect)\n    // если не передавать [] во второй аргумент, то 1ый аргумент будет вызываться бесконечно, поэтому всегда хотябы пустой []\n    // если будет просто пустой массив (или массив с одним и тем же значением), то сколько бы не менял входные атрибуты и ререндерил эту компоненту запрос отправится 1 раз\n    // должен возвращать cleanup function or nothing, поэтому должен логику внутри первой функции в useEffect оборачивать по примеру getHooks\n    useEffect(() => {\n        getHooks(resource);\n\n        return () => {\n            cancelHooksRequest.cancel(\"HooksListClass get('/hooks'... canceled\");\n        }\n    }, [resource]);\n\n    return resources;\n}\n","import React from \"react\";\nimport useHooks from \"./useHooks\";\n\nexport default ({resource}) => {\n    const resources = useHooks(resource);\n\n    return (\n        resources ?\n            <ul className=\"hooks-list\">\n                {resources.map(({title}, index) => <li className=\"hooks-list__item\" key={index}>{title}</li>)}\n            </ul> :\n            <p>\n                \"no items\"\n            </p>\n    )\n};\n","import React from \"react\";\nimport useHooks from \"./useHooks\";\n\nexport default () => {\n    // это чисто для примера, что супер удобно переиспользовать хуки\n    const resources = useHooks(\"posts\");\n\n    return (\n        resources ?\n            <ul className=\"hooks-list\">\n                {resources.map(({title}, index) => <li className=\"hooks-list__item\" key={index}>{title}</li>)}\n            </ul> :\n            <p>\n                \"no items\"\n            </p>\n    )\n};\n","import React, {useState} from \"react\";\nimport HooksList from \"../components/hooks/HooksList\";\nimport HooksListPosts from \"../components/hooks/HooksListPosts\";\n\nexport default () => {\n    // имена в хуках любые. Первое значение - кусок стейта, второе - setter function (типо setState в class based component)\n    // resource === this.state.resource, setResource === this.setState({resource: \"posts\"}) // расшифровка хуков\n    // useState('posts') - задаю инит свойство\n    const [resource, setResource] = useState('posts');\n\n    return (\n        <div className=\"hooks-page\">\n            <h3>\"Hello Hooks Page!\"</h3>\n\n            <div className=\"hooks-page__controls\">\n                <button type=\"button\" onClick={() => setResource(\"posts\")}>Posts</button>\n                <button type=\"button\" onClick={() => setResource(\"todos\")}>Todos</button>\n            </div>\n\n            <div className=\"hooks-page__list\">\n                <HooksList resource={resource}/>\n                {/*чисто для примера переиспользования*/}\n                <HooksListPosts/>\n                {/*Пример как с хуком но с классом*/}\n                {/*<HooksListClass resource={resource} />*/}\n            </div>\n        </div>\n    );\n};\n\n"],"sourceRoot":""}